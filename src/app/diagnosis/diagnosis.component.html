
  <section class="content-header">
    <h1>
      {{'diagnosisTitle'|translate}}
    </h1>
    <ol class="breadcrumb">

    </ol>
  </section>

  <div class="box col-md-12" style="min-height: 850px" *ngIf="diagnosisPhase == 0">
      <div class="col-md-12" style="height: 20px">
      </div>
      <div class="col-md-5 test-box" *ngFor="let item of testList">
        <div class="col-md-8">
          <div class="info-box bg-aqua" style="min-height: 100px;width: 100%;">
            <span class="info-box-icon" style="height: 100px; width: 100px; line-height: 105px"><i class="ion ion-ios-paper-outline"></i></span>
            <div class="info-box-content">
              <span class="info-box-number">{{item.test.name}}</span>
              <span class="info-box-text">{{item.test.questions.length}} {{'items'|translate}}</span>
              <span class="info-box-text">{{item.test.comment}}</span>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <a class="btn btn-app" style="height: 100px; min-width: 90px" (click)="startDiagnosis(item.test)">
            <i class="fa fa-edit" style="font-size: 30px;line-height: 42px;"></i> {{'diagnosis'|translate}}
          </a>
        </div>
      </div>
  </div>

  <div id= "phaseOneDiv" class="box col-md-12" style="min-height: 850px;overflow: auto;" *ngIf="diagnosisPhase == 1">
    <div *ngIf="!activeCodeCorrect">
      <div style="margin: 0 auto">
        <h3 style="margin-top: 50px; margin-bottom: 50px; text-align: center">{{'activeCodeAlert'|translate}}</h3>
      </div>
      <div style="margin-bottom: 50px">
        <input class="form-control" [(ngModel)]="activeCode" style="height: 30px; width: 30% ;margin: 0 auto">
      </div>
      <button class="btn btn-block btn-primary btn-lg" style="width: 10%; margin: 0 auto" (click)="verifyCode()">{{'verifyButton'|translate}}</button>
    </div>
    <div *ngIf="activeCodeCorrect">
      <div class="sticky-nav-wrapper">
        <nav class="sticky-nav" ngStickyNav stickyClass="sticky-box-shadow">
          <span class="info-box-icon" style="height: 50px; width: 50px; line-height: 38px"><i class="ion ion-ios-pricetag-outline" style="font-size: 40px !important;"></i></span>
          <div class="info-box-content">
            <span class="diagnosis-info-box">Source: {{sourceAnswerList.length}}/{{sourceList.length}} {{'items'|translate}}</span>
          </div>
        </nav>
      </div>
      <ng-container *ngFor="let item of sourceList">
        <app-questionbox [questionFromFather] = item   (answerFromChild)="getFromChild($event)"></app-questionbox>
      </ng-container>
      <button class="btn btn-block btn-primary btn-lg" style="width: 20%; float: right; margin-bottom: 15px" (click)="getPhaseOneResult()" [disabled]="unsubmitable">{{'nextStep'|translate}}</button>
    </div>
  </div>

  <div class="box col-md-12" *ngIf="diagnosisPhase == 2">
    <h1>{{'phaseOneFinish'|translate}}</h1>
    <div class="col-md-12" echarts [options]="options1" style="min-width: 400px; max-width: 800px; height: 400px; margin: 0 auto"></div>
    <div class="row">
      <button class="btn btn-block btn-primary btn-lg" style="width: 20%; float: left; margin-bottom: 15px" (click)="gotoNextPhase()">{{'continue'|translate}}</button>
    </div>
  </div>

  <div class="box col-md-12" *ngIf="diagnosisPhase == 3">
    <div class="sticky-nav-wrapper">
      <nav class="sticky-nav" ngStickyNav>
        <span class="info-box-icon" style="height: 50px; width: 50px; line-height: 38px"><i class="ion ion-ios-pricetag-outline" style="font-size: 40px !important;"></i></span>
        <div class="info-box-content">
          <span class="diagnosis-info-box">Make: {{makeAnswerList.length}}/{{makeList.length}} {{'items'|translate}}</span>
        </div>
      </nav>
    </div>
    <ng-container *ngFor="let item of makeList">
      <app-questionbox [questionFromFather] = item   (answerFromChild)="getFromChild($event)"></app-questionbox>
    </ng-container>
    <button class="btn btn-block btn-primary btn-lg" style="width: 20%; float: right; margin-bottom: 15px" (click)="getPhaseTwoResult()" [disabled]="unsubmitable">{{'nextStep'|translate}}</button>
  </div>

  <div class="box col-md-12" *ngIf="diagnosisPhase == 4">
    <h1>{{'phaseTwoFinish'|translate}}</h1>
    <div class="col-md-12" echarts [options]="options2" style="min-width: 400px; max-width: 800px; height: 400px; margin: 0 auto"></div>
    <div class="row">
      <button class="btn btn-block btn-primary btn-lg" style="width: 20%; float: left; margin-bottom: 15px" (click)="gotoNextPhase()">{{'continue'|translate}}</button>
    </div>
  </div>

  <div class="box col-md-12" *ngIf="diagnosisPhase == 5">
    <div class="sticky-nav-wrapper">
      <nav class="sticky-nav" ngStickyNav>
        <span class="info-box-icon" style="height: 50px; width: 50px; line-height: 38px"><i class="ion ion-ios-pricetag-outline" style="font-size: 40px !important;"></i></span>
        <div class="info-box-content">
          <span class="diagnosis-info-box">Delivery: {{deliveryAnswerList.length}}/{{deliveryList.length}} {{'items'|translate}}</span>
        </div>
      </nav>
    </div>
    <ng-container *ngFor="let item of deliveryList">
      <app-questionbox [questionFromFather] = item   (answerFromChild)="getFromChild($event)"></app-questionbox>
    </ng-container>
    <button class="btn btn-block btn-primary btn-lg" style="width: 20%; float: right; margin-bottom: 15px" (click)="sentAnswer()" [disabled]="unsubmitable">{{'submit'|translate}}</button>
  </div>

  <div class="box col-md-12" *ngIf="diagnosisPhase == 6">
    <h1>{{'phaseThreeFinish'|translate}}</h1>
    <h1>{{finalLevel}}</h1>
    <button class="btn btn-block btn-primary btn-lg" style="width: 20%; float: left; margin-bottom: 15px" (click)="gotoResultDetail()">{{'detailReport'|translate}}</button>
  </div>
